$(document).ready(function(){var o=function(){var o,s,t=$(document).width(),e=$(document).height(),a=$("<canvas>").appendTo("#hero")[0],n=a.getContext("2d"),p=.15,i={size:Math.min(t,e)*p,triangles:[]};return o=function(o,s){var t={pos:{},to:{}},e=~~(2*Math.random());return t.pos.x1=o.pos.x2||4*-i.size,t.pos.y1=o.pos.y2||4*-i.size,t.pos.x2=o.pos.x3||Math.random()*i.size+t.pos.x1*(e&&o.pos.x2?-1:1),t.pos.y2=o.pos.y3||Math.random()*i.size+t.pos.y1*(e&&o.pos.y2?-1:1),t.pos.x3=Math.random()*i.size+t.pos.x2,t.pos.y3=Math.random()*i.size+t.pos.y2*(s?-.25:.25),t.to.x1=t.pos.x1,t.to.y1=t.pos.y1,t.to.x2=t.pos.x2,t.to.y2=t.pos.y2,t.to.x3=t.pos.x3,t.to.y3=t.pos.y3,t},s=function(o){n.beginPath(),n.moveTo(o.pos.x1,o.pos.y1+e/2),n.lineTo(o.pos.x2,o.pos.y2+e/2),n.lineTo(o.pos.x3,o.pos.y3+e/2),n.closePath()},i.create=function(){var s=o({pos:{},to:{}}),a=Math.max(s.pos.x1,s.pos.y1,s.pos.x2,s.pos.y2,s.pos.x3,s.pos.y3),n=0;for(i.triangles.push(s),i.hue=(360*Math.random()).toFixed(0),i.backgroundHue=i.hue;a<Math.max(t,e)+4*i.size;){var p=Object.create(s);s=o(p,n%2==0),a=Math.max(s.pos.x1,s.pos.y1,s.pos.x2,s.pos.y2,s.pos.x3,s.pos.y3),i.triangles.push(s),n++}return i},i.draw=function(){n.clearRect(0,0,t,e);for(var o in i.triangles)s(i.triangles[o]),n.fillStyle="hsla(0, 0%, "+i.hue/4+"%, .75)",n.fill();return i},i.animate=function(){var o=p;return setInterval(function(){for(var s in i.triangles){var t=i.triangles[s],e=Math.random()*o;i.hue<0&&i.hue>360?i.hue+=.01:i.hue-=.01,s>0&&s<i.triangles.length&&(t.pos.x1<=t.to.x1+o&&t.pos.x1>=t.to.x1-o&&(t.to.x1=Math.random()*i.size*(~~(2*Math.random())?-1:1)+t.pos.x1),t.pos.y1<=t.to.y1+o&&t.pos.y1>=t.to.y1-o&&(t.to.y1=Math.random()*i.size*(~~(2*Math.random())?-1:1)+t.pos.y1),t.to.x1=Math.min(i.size*p+t.pos.x1,Math.max(-i.size*p-t.pos.x1,t.to.x1)),t.to.y1=Math.min(i.size*p+t.pos.y1,Math.max(-i.size*p-t.pos.y1,t.to.y1)),t.pos.x1+=e*(t.pos.x1<t.to.x1?1:-1),t.pos.y1+=e*(t.pos.y1<t.to.y1?1:-1),t.pos.x1=Math.min(Math.max(t.pos.x1,-i.size-t.pos.x1),i.size+t.pos.x1),t.pos.y1=Math.min(Math.max(t.pos.y1,-i.size-t.pos.y1),i.size+t.pos.y1),t.pos.x2=i.triangles[s-1].pos.x3,t.pos.y2=i.triangles[s-1].pos.y3,t.pos.x3=i.triangles[s-1].pos.x1,t.pos.y3=i.triangles[s-1].pos.y1)}i.backgroundHue<0&&i.backgroundHue>360?i.backgroundHue+=.01:i.backgroundHue-=.01,i.draw()},1e3/30),i},i.destroy=function(){$(a).remove()},a.width=t,a.height=e,$("body").resize(function(){a.width=t,a.height=e,i.create()}),i},s=(new o).create().animate();$(document).on("click",function(){s.destroy(),s=(new o).create().animate()}).click()});